{"name":"Php PDF Watermark","tagline":"PDF watermark using FPDF and FPDI","body":"# php pdf for text and image watermark\r\n\r\nPDFWatermark enables you to add an image as a watermark to new PDF files or existing PDF files. It uses FPDF that allows you to write PDF files and FPDI that allows you to import existing PDF documents into FPDF.\r\n\r\nUsing it, you can:\r\n\r\n>Use jpg and png ( with alpha channels ) files with a 96 DPI resolution\r\n>Easily position the watermark on the pages of the PDF file\r\n\r\n\r\n\r\n    \r\n\r\n[Click here](http://www.fpdf.org/en/download.php) to download fpdf latest version\r\n\r\n[Click here](http://www.setasign.com/products/fpdi/downloads/) to download FPDI latest version\r\n\r\n\r\n## Description\r\nPHP PDF Watermark is a library to load watermark images provided via URL image or entered text.  \r\nIt returns an pdf format. \r\nPDFWatermarker enables you to add an image as a watermark to existing PDF files. It uses FPDF that allows you to write PDF files and FPDI that allows you to import existing PDF documents into FPDF.\r\n\r\n\r\n\r\n#Generate Watermark with generate New PDF file.\r\n\r\n##Usage\r\n\r\n    require('fpdf/fpdf.php');\r\n    \r\n    class PDF_Rotate extends FPDF {\r\n\r\n    var $angle = 0;\r\n\r\n    function Rotate($angle, $x = -1, $y = -1) {\r\n        if ($x == -1)\r\n            $x = $this->x;\r\n        if ($y == -1)\r\n            $y = $this->y;\r\n        if ($this->angle != 0)\r\n            $this->_out('Q');\r\n        $this->angle = $angle;\r\n        if ($angle != 0) {\r\n            $angle*=M_PI / 180;\r\n            $c = cos($angle);\r\n            $s = sin($angle);\r\n            $cx = $x * $this->k;\r\n            $cy = ($this->h - $y) * $this->k;\r\n            $this->_out(sprintf('q %.5F %.5F %.5F %.5F %.2F %.2F cm 1 0 0 1 %.2F %.2F cm', $c, $s, -$s, $c, $cx, $cy, -$cx, -$cy));\r\n        }\r\n     }\r\n\r\n    function _endpage() {\r\n        if ($this->angle != 0) {\r\n            $this->angle = 0;\r\n            $this->_out('Q');\r\n        }\r\n        parent::_endpage();\r\n    }\r\n\r\n    }\r\n  \r\n  \r\n  \r\n  \r\n    class PDF extends PDF_Rotate {\r\n\r\n    function Header() {\r\n        //Put the watermark\r\n        $this->Image('http://chart.googleapis.com/chart?cht=p3&chd=t:60,40&chs=250x100&chl=Hello|World',40,100,100,0,'PNG');\r\n        $this->SetFont('Arial', 'B', 50);\r\n        $this->SetTextColor(255, 192, 203);\r\n        $this->RotatedText(35, 190, 'CHINMAY KUMAR SAHU', 45);\r\n    }\r\n\r\n    function RotatedText($x, $y, $txt, $angle) {\r\n        //Text rotated around its origin\r\n        $this->Rotate($angle, $x, $y);\r\n        $this->Text($x, $y, $txt);\r\n        $this->Rotate(0);\r\n     }\r\n\r\n    }\r\n  \r\n  \r\n  \r\n    $pdf = new PDF();\r\n    $pdf->AddPage();\r\n    $pdf->SetFont('Arial', '', 12);\r\n    //MultiCell loop text\r\n    $txt = \"FPDF is a PHP class which allows to generate PDF files with pure PHP, that is to say \" .\r\n            \"without using the PDFlib library. F from FPDF stands for Free: you may use it for any \" .\r\n            \"kind of usage and modify it to suit your needs.\\n\\n\";\r\n    for ($i = 0; $i < 25; $i++){\r\n        $pdf->MultiCell(0, 5, $txt, 0, 'J');\r\n    }\r\n    $pdf->Output();\r\n    \r\n    \r\n#Generate Watermark on Existing PDF file\r\n\r\n##Usage\r\n\r\n    require('fpdf/fpdf.php');\r\n    require_once 'FPDI/fpdi.php';\r\n    \r\n    \r\n    class PDF_Rotate extends FPDI {\r\n\r\n    var $angle = 0;\r\n\r\n    function Rotate($angle, $x = -1, $y = -1) {\r\n        if ($x == -1)\r\n            $x = $this->x;\r\n        if ($y == -1)\r\n            $y = $this->y;\r\n        if ($this->angle != 0)\r\n            $this->_out('Q');\r\n        $this->angle = $angle;\r\n        if ($angle != 0) {\r\n            $angle*=M_PI / 180;\r\n            $c = cos($angle);\r\n            $s = sin($angle);\r\n            $cx = $x * $this->k;\r\n            $cy = ($this->h - $y) * $this->k;\r\n            $this->_out(sprintf('q %.5F %.5F %.5F %.5F %.2F %.2F cm 1 0 0 1 %.2F %.2F cm', $c, $s, -$s, $c, $cx, $cy, -$cx, -$cy));\r\n        }\r\n    }\r\n\r\n    function _endpage() {\r\n        if ($this->angle != 0) {\r\n            $this->angle = 0;\r\n            $this->_out('Q');\r\n        }\r\n        parent::_endpage();\r\n    }\r\n\r\n    }\r\n    \r\n    \r\n    \r\n    $fullPathToFile = \"chinmay235.pdf\";\r\n\r\n    class PDF extends PDF_Rotate {\r\n\r\n    var $_tplIdx;\r\n    \r\n    function Header() {\r\n        global $fullPathToFile;\r\n        \r\n        //Put the watermark\r\n        $this->Image('http://chart.googleapis.com/chart?cht=p3&chd=t:60,40&chs=250x100&chl=Hello|World', 40, 100, 100, 0, 'PNG');\r\n        $this->SetFont('Arial', 'B', 50);\r\n        $this->SetTextColor(255, 192, 203);\r\n        $this->RotatedText(20, 230, 'Raddyx Technologies Pvt. Ltd.', 45);\r\n        \r\n        if (is_null($this->_tplIdx)) {\r\n\r\n            // THIS IS WHERE YOU GET THE NUMBER OF PAGES\r\n            $this->numPages = $this->setSourceFile($fullPathToFile);\r\n            $this->_tplIdx = $this->importPage(1);\r\n        }\r\n        $this->useTemplate($this->_tplIdx, 0, 0, 200);\r\n        \r\n        \r\n    }\r\n\r\n    function RotatedText($x, $y, $txt, $angle) {\r\n        //Text rotated around its origin\r\n        $this->Rotate($angle, $x, $y);\r\n        $this->Text($x, $y, $txt);\r\n        $this->Rotate(0);\r\n    }\r\n\r\n    }\r\n    \r\n    \r\n    $pdf = new PDF();\r\n    $pdf->AddPage();\r\n    $pdf->SetFont('Arial', '', 12);\r\n    $pdf->Output();\r\n\r\n\r\n### Authors and Contributors\r\nYou can @mention a GitHub username to generate a link to their profile. The resulting `<a>` element will link to the contributor's GitHub Profile. For example: In 2015, Chinmay Sahu (@chinmay235), and Learn PHP (@learnphp) founded GitHub.\r\n\r\n### Support or Contact\r\nHaving trouble with Pages? Check out our [documentation](https://help.github.com/pages) or [contact support](https://github.com/contact) and weâ€™ll help you sort it out.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}