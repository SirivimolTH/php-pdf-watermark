<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Php PDF Watermark by chinmay235</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Php PDF Watermark</h1>
      <h2 class="project-tagline">PDF watermark using FPDF and FPDI</h2>
      <a href="https://github.com/chinmay235/php-pdf-watermark" class="btn">View on GitHub</a>
      <a href="https://github.com/chinmay235/php-pdf-watermark/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/chinmay235/php-pdf-watermark/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="php-pdf-for-text-and-image-watermark" class="anchor" href="#php-pdf-for-text-and-image-watermark" aria-hidden="true"><span class="octicon octicon-link"></span></a>php pdf for text and image watermark</h1>

<p>PDFWatermark enables you to add an image as a watermark to new PDF files or existing PDF files. It uses FPDF that allows you to write PDF files and FPDI that allows you to import existing PDF documents into FPDF.</p>

<p>Using it, you can:</p>

<blockquote>
<p>Use jpg and png ( with alpha channels ) files with a 96 DPI resolution
Easily position the watermark on the pages of the PDF file</p>
</blockquote>

<p><a href="http://www.fpdf.org/en/download.php">Click here</a> to download fpdf latest version</p>

<p><a href="http://www.setasign.com/products/fpdi/downloads/">Click here</a> to download FPDI latest version</p>

<h2>
<a id="description" class="anchor" href="#description" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h2>

<p>PHP PDF Watermark is a library to load watermark images provided via URL image or entered text.<br>
It returns an pdf format. 
PDFWatermarker enables you to add an image as a watermark to existing PDF files. It uses FPDF that allows you to write PDF files and FPDI that allows you to import existing PDF documents into FPDF.</p>

<h1>
<a id="generate-watermark-with-generate-new-pdf-file" class="anchor" href="#generate-watermark-with-generate-new-pdf-file" aria-hidden="true"><span class="octicon octicon-link"></span></a>Generate Watermark with generate New PDF file.</h1>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<pre><code>require('fpdf/fpdf.php');

class PDF_Rotate extends FPDF {

var $angle = 0;

function Rotate($angle, $x = -1, $y = -1) {
    if ($x == -1)
        $x = $this-&gt;x;
    if ($y == -1)
        $y = $this-&gt;y;
    if ($this-&gt;angle != 0)
        $this-&gt;_out('Q');
    $this-&gt;angle = $angle;
    if ($angle != 0) {
        $angle*=M_PI / 180;
        $c = cos($angle);
        $s = sin($angle);
        $cx = $x * $this-&gt;k;
        $cy = ($this-&gt;h - $y) * $this-&gt;k;
        $this-&gt;_out(sprintf('q %.5F %.5F %.5F %.5F %.2F %.2F cm 1 0 0 1 %.2F %.2F cm', $c, $s, -$s, $c, $cx, $cy, -$cx, -$cy));
    }
 }

function _endpage() {
    if ($this-&gt;angle != 0) {
        $this-&gt;angle = 0;
        $this-&gt;_out('Q');
    }
    parent::_endpage();
}

}




class PDF extends PDF_Rotate {

function Header() {
    //Put the watermark
    $this-&gt;Image('http://chart.googleapis.com/chart?cht=p3&amp;chd=t:60,40&amp;chs=250x100&amp;chl=Hello|World',40,100,100,0,'PNG');
    $this-&gt;SetFont('Arial', 'B', 50);
    $this-&gt;SetTextColor(255, 192, 203);
    $this-&gt;RotatedText(35, 190, 'CHINMAY KUMAR SAHU', 45);
}

function RotatedText($x, $y, $txt, $angle) {
    //Text rotated around its origin
    $this-&gt;Rotate($angle, $x, $y);
    $this-&gt;Text($x, $y, $txt);
    $this-&gt;Rotate(0);
 }

}



$pdf = new PDF();
$pdf-&gt;AddPage();
$pdf-&gt;SetFont('Arial', '', 12);
//MultiCell loop text
$txt = "FPDF is a PHP class which allows to generate PDF files with pure PHP, that is to say " .
        "without using the PDFlib library. F from FPDF stands for Free: you may use it for any " .
        "kind of usage and modify it to suit your needs.\n\n";
for ($i = 0; $i &lt; 25; $i++){
    $pdf-&gt;MultiCell(0, 5, $txt, 0, 'J');
}
$pdf-&gt;Output();
</code></pre>

<h1>
<a id="generate-watermark-on-existing-pdf-file" class="anchor" href="#generate-watermark-on-existing-pdf-file" aria-hidden="true"><span class="octicon octicon-link"></span></a>Generate Watermark on Existing PDF file</h1>

<h2>
<a id="usage-1" class="anchor" href="#usage-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<pre><code>require('fpdf/fpdf.php');
require_once 'FPDI/fpdi.php';


class PDF_Rotate extends FPDI {

var $angle = 0;

function Rotate($angle, $x = -1, $y = -1) {
    if ($x == -1)
        $x = $this-&gt;x;
    if ($y == -1)
        $y = $this-&gt;y;
    if ($this-&gt;angle != 0)
        $this-&gt;_out('Q');
    $this-&gt;angle = $angle;
    if ($angle != 0) {
        $angle*=M_PI / 180;
        $c = cos($angle);
        $s = sin($angle);
        $cx = $x * $this-&gt;k;
        $cy = ($this-&gt;h - $y) * $this-&gt;k;
        $this-&gt;_out(sprintf('q %.5F %.5F %.5F %.5F %.2F %.2F cm 1 0 0 1 %.2F %.2F cm', $c, $s, -$s, $c, $cx, $cy, -$cx, -$cy));
    }
}

function _endpage() {
    if ($this-&gt;angle != 0) {
        $this-&gt;angle = 0;
        $this-&gt;_out('Q');
    }
    parent::_endpage();
}

}



$fullPathToFile = "chinmay235.pdf";

class PDF extends PDF_Rotate {

var $_tplIdx;

function Header() {
    global $fullPathToFile;

    //Put the watermark
    $this-&gt;Image('http://chart.googleapis.com/chart?cht=p3&amp;chd=t:60,40&amp;chs=250x100&amp;chl=Hello|World', 40, 100, 100, 0, 'PNG');
    $this-&gt;SetFont('Arial', 'B', 50);
    $this-&gt;SetTextColor(255, 192, 203);
    $this-&gt;RotatedText(20, 230, 'Raddyx Technologies Pvt. Ltd.', 45);

    if (is_null($this-&gt;_tplIdx)) {

        // THIS IS WHERE YOU GET THE NUMBER OF PAGES
        $this-&gt;numPages = $this-&gt;setSourceFile($fullPathToFile);
        $this-&gt;_tplIdx = $this-&gt;importPage(1);
    }
    $this-&gt;useTemplate($this-&gt;_tplIdx, 0, 0, 200);


}

function RotatedText($x, $y, $txt, $angle) {
    //Text rotated around its origin
    $this-&gt;Rotate($angle, $x, $y);
    $this-&gt;Text($x, $y, $txt);
    $this-&gt;Rotate(0);
}

}


$pdf = new PDF();
$pdf-&gt;AddPage();
$pdf-&gt;SetFont('Arial', '', 12);
$pdf-&gt;Output();
</code></pre>

<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p>You can <a href="https://github.com/blog/821" class="user-mention">@mention</a> a GitHub username to generate a link to their profile. The resulting <code>&lt;a&gt;</code> element will link to the contributor's GitHub Profile. For example: In 2015, Chinmay Sahu (<a href="https://github.com/chinmay235" class="user-mention">@chinmay235</a>), and Learn PHP (<a href="https://github.com/learnphp" class="user-mention">@learnphp</a>) founded GitHub.</p>

<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with Pages? Check out our <a href="https://help.github.com/pages">documentation</a> or <a href="https://github.com/contact">contact support</a> and weâ€™ll help you sort it out.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/chinmay235/php-pdf-watermark">Php PDF Watermark</a> is maintained by <a href="https://github.com/chinmay235">chinmay235</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

